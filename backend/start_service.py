#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Triathlon Training Service
"""

import uvicorn
import webbrowser
import time
import threading

def open_browser():
    """–û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"""
    time.sleep(2)
    print("üåê –û—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä...")
    webbrowser.open("http://localhost:8000/docs")

if __name__ == "__main__":
    print("üèä‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÇÔ∏èüèÉ‚Äç‚ôÇÔ∏è –ó–∞–ø—É—Å–∫ Triathlon Training Service")
    print("=" * 50)
    print("üìù –°–µ—Ä–≤–∏—Å –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –î–∂–æ –§—Ä–∏–ª–∞")
    print("üîó API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs")
    print("üîó –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/redoc")
    print("=" * 50)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±—Ä–∞—É–∑–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
    browser_thread = threading.Thread(target=open_browser)
    browser_thread.daemon = True
    browser_thread.start()
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
    uvicorn.run("main:app", host="0.0.0.0", port=8000, reload=True)
