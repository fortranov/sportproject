# üñ•Ô∏è Frontend Documentation - Next.js –¥–ª—è Triathlon Training Service

## üìã –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ Next.js –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Ç—Ä–∏–∞—Ç–ª–µ—Ç–æ–≤.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- üè† **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –æ–±–∑–æ—Ä —Å–µ—Ä–≤–∏—Å–∞
- üìù **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞** - —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- üìä **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
- üë§ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞–º–∏
- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- üìÖ **TrainingCalendar** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- üìä **TrainingChart** - –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- üèÉ‚Äç‚ôÇÔ∏è **SportIcon** - –∏–∫–æ–Ω–∫–∏ –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞
- ‚ö° **DifficultySelector** - –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- üìã **PlanCard** - –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Next.js

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Next.js
npx create-next-app@latest triathlon-frontend --typescript --tailwind --eslint --app

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd triathlon-frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install @headlessui/react @heroicons/react
npm install recharts date-fns
npm install axios swr
npm install react-hook-form @hookform/resolvers yup
npm install react-hot-toast
npm install lucide-react
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
triathlon-frontend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ globals.css
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ create-plan/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ view-plan/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [uin]/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îú‚îÄ‚îÄ TrainingCalendar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ TrainingChart.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PlanCard.tsx
‚îÇ   ‚îú‚îÄ‚îÄ SportIcon.tsx
‚îÇ   ‚îî‚îÄ‚îÄ DifficultySelector.tsx
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useTrainingPlan.ts
‚îÇ   ‚îî‚îÄ‚îÄ useApi.ts
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ icons/
        ‚îú‚îÄ‚îÄ swimming.svg
        ‚îú‚îÄ‚îÄ cycling.svg
        ‚îî‚îÄ‚îÄ running.svg
```

## üì± –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
```css
:root {
  /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
  --primary-blue: #0ea5e9;      /* –ü–ª–∞–≤–∞–Ω–∏–µ */
  --primary-green: #10b981;     /* –í–µ–ª–æ—Å–∏–ø–µ–¥ */
  --primary-orange: #f59e0b;    /* –ë–µ–≥ */
  
  /* –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ */
  --beginner: #22c55e;          /* –ù–∞—á–∏–Ω–∞—é—â–∏–π */
  --intermediate: #f59e0b;      /* –°—Ä–µ–¥–Ω–∏–π */
  --advanced: #ef4444;          /* –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π */
  
  /* UI —Ü–≤–µ—Ç–∞ */
  --background: #ffffff;
  --surface: #f8fafc;
  --border: #e2e8f0;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
}
```

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞:
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**: Inter, sans-serif
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç**: Inter, sans-serif
- **–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π**: JetBrains Mono

## üîß API Integration

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (lib/types.ts):

```typescript
export interface User {
  uin: string;
}

export interface TrainingPlan {
  id: number;
  competition_date: string;
  difficulty: number;
  training_days: TrainingDay[];
}

export interface TrainingDay {
  date: string;
  swimming_hours: number;
  cycling_hours: number;
  running_hours: number;
  total_hours: number;
}

export interface CreatePlanRequest {
  uin: string;
  competition_date: string;
  difficulty: number;
}

export interface ApiResponse<T> {
  data?: T;
  error?: string;
}
```

### API –∫–ª–∏–µ–Ω—Ç (lib/api.ts):

```typescript
import axios from 'axios';
import { TrainingPlan, CreatePlanRequest } from './types';

const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';

const api = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

export const trainingApi = {
  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
  createPlan: async (data: CreatePlanRequest): Promise<TrainingPlan> => {
    const response = await api.post('/training-plan', data);
    return response.data;
  },

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
  getPlan: async (uin: string): Promise<TrainingPlan> => {
    const response = await api.get(`/training-plan/${uin}`);
    return response.data;
  },

  // –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
  deletePlan: async (uin: string): Promise<void> => {
    await api.delete(`/training-plan/${uin}`);
  },
};
```

### –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API (hooks/useTrainingPlan.ts):

```typescript
import useSWR from 'swr';
import { useState } from 'react';
import { trainingApi } from '@/lib/api';
import { TrainingPlan, CreatePlanRequest } from '@/lib/types';
import toast from 'react-hot-toast';

export const useTrainingPlan = (uin?: string) => {
  const { data, error, mutate } = useSWR(
    uin ? `/training-plan/${uin}` : null,
    () => trainingApi.getPlan(uin!),
    {
      revalidateOnFocus: false,
    }
  );

  return {
    plan: data,
    loading: !error && !data,
    error,
    refetch: mutate,
  };
};

export const useCreatePlan = () => {
  const [loading, setLoading] = useState(false);

  const createPlan = async (data: CreatePlanRequest): Promise<TrainingPlan | null> => {
    setLoading(true);
    try {
      const plan = await trainingApi.createPlan(data);
      toast.success('–ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!');
      return plan;
    } catch (error) {
      toast.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞–Ω–∞');
      console.error('Error creating plan:', error);
      return null;
    } finally {
      setLoading(false);
    }
  };

  return { createPlan, loading };
};
```

## üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

### 1. –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (components/TrainingCalendar.tsx):

```typescript
'use client';

import { useState } from 'react';
import { format, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth, isToday } from 'date-fns';
import { ru } from 'date-fns/locale';
import { TrainingDay } from '@/lib/types';
import { SportIcon } from './SportIcon';

interface TrainingCalendarProps {
  trainingDays: TrainingDay[];
  onDayClick?: (day: TrainingDay) => void;
}

export const TrainingCalendar: React.FC<TrainingCalendarProps> = ({
  trainingDays,
  onDayClick,
}) => {
  const [currentMonth, setCurrentMonth] = useState(new Date());

  const monthStart = startOfMonth(currentMonth);
  const monthEnd = endOfMonth(currentMonth);
  const monthDays = eachDayOfInterval({ start: monthStart, end: monthEnd });

  const getTrainingForDay = (date: Date): TrainingDay | undefined => {
    return trainingDays.find(
      (day) => format(new Date(day.date), 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')
    );
  };

  return (
    <div className="bg-white rounded-lg shadow p-6">
      <div className="flex items-center justify-between mb-6">
        <h2 className="text-xl font-semibold">
          {format(currentMonth, 'LLLL yyyy', { locale: ru })}
        </h2>
        <div className="flex space-x-2">
          <button
            onClick={() => setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1))}
            className="p-2 hover:bg-gray-100 rounded"
          >
            ‚Üê
          </button>
          <button
            onClick={() => setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1))}
            className="p-2 hover:bg-gray-100 rounded"
          >
            ‚Üí
          </button>
        </div>
      </div>

      <div className="grid grid-cols-7 gap-1">
        {['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'].map((day) => (
          <div key={day} className="p-2 text-center text-sm font-medium text-gray-500">
            {day}
          </div>
        ))}

        {monthDays.map((day) => {
          const training = getTrainingForDay(day);
          const isCurrentMonth = isSameMonth(day, currentMonth);
          const isTodayDate = isToday(day);

          return (
            <div
              key={day.toISOString()}
              onClick={() => training && onDayClick?.(training)}
              className={`
                p-2 min-h-[80px] border border-gray-200 cursor-pointer transition-colors
                ${isCurrentMonth ? 'bg-white hover:bg-gray-50' : 'bg-gray-50 text-gray-400'}
                ${isTodayDate ? 'ring-2 ring-blue-500' : ''}
                ${training ? 'hover:bg-blue-50' : ''}
              `}
            >
              <div className="text-sm font-medium">{format(day, 'd')}</div>
              {training && (
                <div className="mt-1 space-y-1">
                  {training.swimming_hours > 0 && (
                    <div className="flex items-center text-xs">
                      <SportIcon sport="swimming" size={12} />
                      <span className="ml-1">{training.swimming_hours}—á</span>
                    </div>
                  )}
                  {training.cycling_hours > 0 && (
                    <div className="flex items-center text-xs">
                      <SportIcon sport="cycling" size={12} />
                      <span className="ml-1">{training.cycling_hours}—á</span>
                    </div>
                  )}
                  {training.running_hours > 0 && (
                    <div className="flex items-center text-xs">
                      <SportIcon sport="running" size={12} />
                      <span className="ml-1">{training.running_hours}—á</span>
                    </div>
                  )}
                </div>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
};
```

### 2. –ì—Ä–∞—Ñ–∏–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ (components/TrainingChart.tsx):

```typescript
'use client';

import { PieChart, Pie, Cell, ResponsiveContainer, Legend, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from 'recharts';
import { TrainingDay } from '@/lib/types';

interface TrainingChartProps {
  trainingDays: TrainingDay[];
}

const COLORS = {
  swimming: '#0ea5e9',
  cycling: '#10b981',
  running: '#f59e0b',
};

export const TrainingChart: React.FC<TrainingChartProps> = ({ trainingDays }) => {
  // –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
  const totalHours = trainingDays.reduce((acc, day) => ({
    swimming: acc.swimming + day.swimming_hours,
    cycling: acc.cycling + day.cycling_hours,
    running: acc.running + day.running_hours,
  }), { swimming: 0, cycling: 0, running: 0 });

  const pieData = [
    { name: '–ü–ª–∞–≤–∞–Ω–∏–µ', value: totalHours.swimming, color: COLORS.swimming },
    { name: '–í–µ–ª–æ—Å–∏–ø–µ–¥', value: totalHours.cycling, color: COLORS.cycling },
    { name: '–ë–µ–≥', value: totalHours.running, color: COLORS.running },
  ].filter(item => item.value > 0);

  // –î–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
  const weeklyData = trainingDays.reduce((acc, day, index) => {
    const weekIndex = Math.floor(index / 7);
    if (!acc[weekIndex]) {
      acc[weekIndex] = {
        week: `–ù–µ–¥–µ–ª—è ${weekIndex + 1}`,
        swimming: 0,
        cycling: 0,
        running: 0,
      };
    }
    acc[weekIndex].swimming += day.swimming_hours;
    acc[weekIndex].cycling += day.cycling_hours;
    acc[weekIndex].running += day.running_hours;
    return acc;
  }, [] as any[]);

  return (
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
      {/* –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ */}
      <div className="bg-white rounded-lg shadow p-6">
        <h3 className="text-lg font-semibold mb-4">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞</h3>
        <ResponsiveContainer width="100%" height={300}>
          <PieChart>
            <Pie
              data={pieData}
              cx="50%"
              cy="50%"
              outerRadius={80}
              fill="#8884d8"
              dataKey="value"
              label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}
            >
              {pieData.map((entry, index) => (
                <Cell key={`cell-${index}`} fill={entry.color} />
              ))}
            </Pie>
            <Legend />
          </PieChart>
        </ResponsiveContainer>
      </div>

      {/* –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ –Ω–µ–¥–µ–ª—è–º */}
      <div className="bg-white rounded-lg shadow p-6">
        <h3 className="text-lg font-semibold mb-4">–ù–µ–¥–µ–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</h3>
        <ResponsiveContainer width="100%" height={300}>
          <BarChart data={weeklyData}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="week" />
            <YAxis />
            <Tooltip />
            <Legend />
            <Bar dataKey="swimming" stackId="a" fill={COLORS.swimming} name="–ü–ª–∞–≤–∞–Ω–∏–µ" />
            <Bar dataKey="cycling" stackId="a" fill={COLORS.cycling} name="–í–µ–ª–æ—Å–∏–ø–µ–¥" />
            <Bar dataKey="running" stackId="a" fill={COLORS.running} name="–ë–µ–≥" />
          </BarChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
};
```

### 3. –°–µ–ª–µ–∫—Ç–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (components/DifficultySelector.tsx):

```typescript
'use client';

import { useState } from 'react';

interface DifficultySelectorProps {
  value: number;
  onChange: (value: number) => void;
}

const DIFFICULTY_LEVELS = [
  { range: [0, 300], label: '–ù–∞—á–∏–Ω–∞—é—â–∏–π', color: 'bg-green-500', description: '–ü–µ—Ä–≤—ã–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è, –±–∞–∑–æ–≤–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞' },
  { range: [301, 700], label: '–°—Ä–µ–¥–Ω–∏–π', color: 'bg-yellow-500', description: '–û–ø—ã—Ç–Ω—ã–π –ª—é–±–∏—Ç–µ–ª—å, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ä—Ç—ã' },
  { range: [701, 1000], label: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π', color: 'bg-red-500', description: '–≠–ª–∏—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å, —Å–µ—Ä—å–µ–∑–Ω—ã–µ —Ü–µ–ª–∏' },
];

export const DifficultySelector: React.FC<DifficultySelectorProps> = ({ value, onChange }) => {
  const getCurrentLevel = () => {
    return DIFFICULTY_LEVELS.find(level => value >= level.range[0] && value <= level.range[1]) || DIFFICULTY_LEVELS[0];
  };

  const currentLevel = getCurrentLevel();

  return (
    <div className="space-y-4">
      <label className="block text-sm font-medium text-gray-700">
        –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: {value}
      </label>
      
      {/* –°–ª–∞–π–¥–µ—Ä */}
      <div className="relative">
        <input
          type="range"
          min="0"
          max="1000"
          value={value}
          onChange={(e) => onChange(parseInt(e.target.value))}
          className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
        />
        <div className="flex justify-between text-xs text-gray-500 mt-1">
          <span>0</span>
          <span>300</span>
          <span>700</span>
          <span>1000</span>
        </div>
      </div>

      {/* –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å */}
      <div className={`p-4 rounded-lg ${currentLevel.color} bg-opacity-10 border border-current`}>
        <div className="flex items-center space-x-2">
          <div className={`w-3 h-3 rounded-full ${currentLevel.color}`}></div>
          <span className="font-medium">{currentLevel.label}</span>
        </div>
        <p className="text-sm text-gray-600 mt-1">{currentLevel.description}</p>
      </div>

      {/* –í—Å–µ —É—Ä–æ–≤–Ω–∏ */}
      <div className="grid grid-cols-3 gap-2 text-xs">
        {DIFFICULTY_LEVELS.map((level, index) => (
          <button
            key={index}
            onClick={() => onChange(Math.floor((level.range[0] + level.range[1]) / 2))}
            className={`p-2 rounded border text-center transition-colors ${
              currentLevel === level
                ? 'border-current bg-opacity-20'
                : 'border-gray-200 hover:border-gray-300'
            }`}
          >
            <div className={`w-2 h-2 rounded-full ${level.color} mx-auto mb-1`}></div>
            <div className="font-medium">{level.label}</div>
            <div className="text-gray-500">{level.range[0]}-{level.range[1]}</div>
          </button>
        ))}
      </div>
    </div>
  );
};
```

## üìÑ –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (app/page.tsx):

```typescript
import Link from 'next/link';
import { SportIcon } from '@/components/SportIcon';

export default function HomePage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-blue-50 to-white">
      <div className="container mx-auto px-4 py-16">
        {/* Hero —Å–µ–∫—Ü–∏—è */}
        <div className="text-center mb-16">
          <h1 className="text-4xl md:text-6xl font-bold text-gray-900 mb-6">
            üèä‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÇÔ∏èüèÉ‚Äç‚ôÇÔ∏è Triathlon Training
          </h1>
          <p className="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
            –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–ª–∞–Ω—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –î–∂–æ –§—Ä–∏–ª–∞ "–ë–∏–±–ª–∏—è —Ç—Ä–∏–∞—Ç–ª–µ—Ç–∞"
          </p>
          <div className="space-x-4">
            <Link
              href="/create-plan"
              className="inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors"
            >
              –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
            </Link>
            <Link
              href="/view-plan"
              className="inline-block border border-blue-600 text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors"
            >
              –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–ª–∞–Ω
            </Link>
          </div>
        </div>

        {/* –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
          <div className="text-center p-6">
            <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <SportIcon sport="swimming" size={32} />
            </div>
            <h3 className="text-xl font-semibold mb-2">–ü–ª–∞–≤–∞–Ω–∏–µ</h3>
            <p className="text-gray-600">20-40% –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
          </div>
          <div className="text-center p-6">
            <div className="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <SportIcon sport="cycling" size={32} />
            </div>
            <h3 className="text-xl font-semibold mb-2">–í–µ–ª–æ—Å–∏–ø–µ–¥</h3>
            <p className="text-gray-600">30-50% –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
          </div>
          <div className="text-center p-6">
            <div className="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <SportIcon sport="running" size={32} />
            </div>
            <h3 className="text-xl font-semibold mb-2">–ë–µ–≥</h3>
            <p className="text-gray-600">25-35% –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
          </div>
        </div>

        {/* –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ */}
        <div className="bg-white rounded-lg shadow-lg p-8">
          <h2 className="text-2xl font-bold text-center mb-8">–£—Ä–æ–≤–Ω–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div className="text-center p-6 border border-green-200 rounded-lg">
              <div className="text-3xl mb-2">üî∞</div>
              <h3 className="text-xl font-semibold text-green-600 mb-2">–ù–∞—á–∏–Ω–∞—é—â–∏–π</h3>
              <p className="text-gray-600 mb-2">0-300 –±–∞–ª–ª–æ–≤</p>
              <p className="text-sm text-gray-500">4-10 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é</p>
            </div>
            <div className="text-center p-6 border border-yellow-200 rounded-lg">
              <div className="text-3xl mb-2">üèÉ‚Äç‚ôÇÔ∏è</div>
              <h3 className="text-xl font-semibold text-yellow-600 mb-2">–°—Ä–µ–¥–Ω–∏–π</h3>
              <p className="text-gray-600 mb-2">301-700 –±–∞–ª–ª–æ–≤</p>
              <p className="text-sm text-gray-500">8-16 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é</p>
            </div>
            <div className="text-center p-6 border border-red-200 rounded-lg">
              <div className="text-3xl mb-2">üèÜ</div>
              <h3 className="text-xl font-semibold text-red-600 mb-2">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</h3>
              <p className="text-gray-600 mb-2">701-1000 –±–∞–ª–ª–æ–≤</p>
              <p className="text-sm text-gray-500">15-25 —á–∞—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ (app/create-plan/page.tsx):

```typescript
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { useForm } from 'react-hook-form';
import { DifficultySelector } from '@/components/DifficultySelector';
import { useCreatePlan } from '@/hooks/useTrainingPlan';
import { CreatePlanRequest } from '@/lib/types';

export default function CreatePlanPage() {
  const router = useRouter();
  const { createPlan, loading } = useCreatePlan();
  const [difficulty, setDifficulty] = useState(500);

  const { register, handleSubmit, formState: { errors } } = useForm<CreatePlanRequest>();

  const onSubmit = async (data: CreatePlanRequest) => {
    const planData = { ...data, difficulty };
    const result = await createPlan(planData);
    
    if (result) {
      router.push(`/view-plan/${data.uin}`);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 py-12">
      <div className="container mx-auto px-4">
        <div className="max-w-2xl mx-auto">
          <div className="bg-white rounded-lg shadow-lg p-8">
            <h1 className="text-2xl font-bold text-gray-900 mb-6">
              –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
            </h1>

            <form onSubmit={handleSubmit(onSubmit)} className="space-y-6">
              {/* UIN –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */}
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UIN)
                </label>
                <input
                  type="text"
                  {...register('uin', { required: 'UIN –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω' })}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à UIN"
                />
                {errors.uin && (
                  <p className="text-red-500 text-sm mt-1">{errors.uin.message}</p>
                )}
              </div>

              {/* –î–∞—Ç–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è */}
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  –î–∞—Ç–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
                </label>
                <input
                  type="date"
                  {...register('competition_date', { required: '–î–∞—Ç–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞' })}
                  min={new Date().toISOString().split('T')[0]}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
                {errors.competition_date && (
                  <p className="text-red-500 text-sm mt-1">{errors.competition_date.message}</p>
                )}
              </div>

              {/* –°–µ–ª–µ–∫—Ç–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ */}
              <div>
                <DifficultySelector value={difficulty} onChange={setDifficulty} />
              </div>

              {/* –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ */}
              <button
                type="submit"
                disabled={loading}
                className="w-full bg-blue-600 text-white py-3 px-4 rounded-md font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                {loading ? '–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞...' : '–°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'}
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
}
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Environment Variables (.env.local):

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏–∏
npm start

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

### Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```dockerfile
FROM node:18-alpine AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

FROM node:18-alpine AS builder
WORKDIR /app
COPY . .
COPY --from=deps /app/node_modules ./node_modules
RUN npm run build

FROM node:18-alpine AS runner
WORKDIR /app
COPY --from=builder /app/next.config.js ./
COPY --from=builder /app/public ./public
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/package.json ./package.json

EXPOSE 3000
CMD ["npm", "start"]
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ UX

### –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å Tailwind CSS
- Touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Next.js
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤ —Å SWR

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞
- ARIA –∞—Ç—Ä–∏–±—É—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã (Jest + Testing Library):

```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom
```

### E2E —Ç–µ—Å—Ç—ã (Playwright):

```bash
npm install --save-dev @playwright/test
```

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Google Analytics 4
- Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- Vercel Analytics (–ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ Vercel)

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ Next.js. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞.
